{"version":3,"file":"react-src-components-Checkbox-index-story.e6ab4951.iframe.bundle.js","mappings":";;AA8EA;;;;;AAKA;;;;;;;;;AAWA;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;;;;;;;;;;;AAYA;AAGA","sources":["webpack://charcoal-ui/./packages/react/src/components/Checkbox/index.tsx"],"sourcesContent":["import { forwardRef, memo, useMemo } from 'react'\nimport * as React from 'react'\nimport styled, { css } from 'styled-components'\nimport { useCheckbox } from '@react-aria/checkbox'\nimport { useObjectRef } from '@react-aria/utils'\nimport { useToggleState } from 'react-stately'\nimport { disabledSelector } from '@charcoal-ui/utils'\n\nimport type { AriaCheckboxProps } from '@react-types/checkbox'\nimport Icon from '../Icon'\n\ntype CheckboxLabelProps =\n  | {\n      children: React.ReactNode\n    }\n  | {\n      label: string\n    }\n\nexport type CheckboxProps = CheckboxLabelProps & {\n  readonly id?: string\n  readonly name?: string\n  readonly className?: string\n\n  readonly checked?: boolean\n  readonly defaultChecked?: boolean\n  readonly disabled?: boolean\n  readonly readonly?: boolean\n  readonly invalid?: boolean\n\n  readonly onClick?: () => void\n  readonly onChange?: (isSelected: boolean) => void\n  readonly onBlur?: () => void\n  readonly onFocus?: () => void\n}\n\nconst Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  function CheckboxInner({ invalid = false, ...props }, ref) {\n    const ariaCheckboxProps = useMemo<AriaCheckboxProps>(\n      () => ({\n        ...props,\n        isInValid: invalid,\n        isSelected: props.checked,\n        defaultSelected: props.defaultChecked,\n        validationState: invalid ? 'invalid' : 'valid',\n        // children がいない場合は aria-label をつけないといけない\n        'aria-label': 'children' in props ? undefined : props.label,\n        isDisabled: props.disabled,\n      }),\n      [invalid, props]\n    )\n    const state = useToggleState(ariaCheckboxProps)\n    const objectRef = useObjectRef(ref)\n\n    const { inputProps } = useCheckbox(ariaCheckboxProps, state, objectRef)\n    const isDisabled = (props.disabled ?? false) || (props.readonly ?? false)\n\n    return (\n      <InputRoot aria-disabled={isDisabled} className={props.className}>\n        <CheckboxRoot>\n          <CheckboxInput type=\"checkbox\" {...inputProps} />\n          <CheckboxInputOverlay aria-hidden={true} checked={inputProps.checked}>\n            <Icon name=\"24/Check\" unsafeNonGuidelineScale={2 / 3} />\n          </CheckboxInputOverlay>\n        </CheckboxRoot>\n\n        {'children' in props && <InputLabel>{props.children}</InputLabel>}\n      </InputRoot>\n    )\n  }\n)\n\nexport default memo(Checkbox)\n\nconst hiddenCss = css`\n  visibility: hidden;\n`\n\nconst InputRoot = styled.label`\n  position: relative;\n  display: flex;\n\n  cursor: pointer;\n  ${disabledSelector} {\n    cursor: default;\n  }\n\n  gap: 4px;\n  &:disabled,\n  &[aria-disabled]:not([aria-disabled='false']) {\n    opacity: 0.32;\n  }\n`\n\nconst CheckboxRoot = styled.div`\n  position: relative;\n`\n\nconst CheckboxInput = styled.input`\n  &[type='checkbox'] {\n    appearance: none;\n    display: block;\n    cursor: pointer;\n    margin: 0;\n    width: 20px;\n    height: 20px;\n    border-radius: 4px;\n    transition: 0.2s box-shadow, 0.2s background-color;\n\n    &:checked {\n      background-color: var(--charcoal-brand);\n\n      &:not(:disabled):not([aria-disabled]),\n      &[aria-disabled='false'] {\n        &:hover {\n          background-color: var(--charcoal-brand-hover);\n        }\n        &:active {\n          background-color: var(--charcoal-brand-press);\n        }\n      }\n    }\n\n    &:not(:disabled):not([aria-disabled]),\n    &[aria-disabled='false'] {\n      &:focus,\n      &:active {\n        outline: none;\n        box-shadow: 0 0 0 4px rgba(0, 150, 250, 0.32);\n        &:not(:focus-visible) {\n          outline: none;\n        }\n      }\n      &:focus-visible {\n        outline: none;\n        box-shadow: 0 0 0 4px rgba(0, 150, 250, 0.32);\n      }\n      &[aria-invalid='true'] {\n        box-shadow: 0 0 0 4px rgba(255, 43, 0, 0.32);\n      }\n    }\n\n    &:not(:checked) {\n      border-width: 2px;\n      border-style: solid;\n      border-color: var(--charcoal-text4);\n    }\n  }\n`\n\nconst CheckboxInputOverlay = styled.div<{ checked?: boolean }>`\n  position: absolute;\n  top: -2px;\n  left: -2px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  color: var(--charcoal-text5);\n\n  ${({ checked }) => checked !== true && hiddenCss};\n`\n\nconst InputLabel = styled.div`\n  color: var(--charcoal-text2);\n  font-size: 14px;\n  /** checkbox の height が 20px なのでcheckbox と text が揃っているように見せるために行ボックスの高さを 20px にしている */\n  line-height: 20px;\n`\n"],"names":[],"sourceRoot":""}